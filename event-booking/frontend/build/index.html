<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>EVENTIX | Premium Event Booking</title>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet">
  <style>
:root{--bg:#0a0a0f;--bg2:#12121a;--bg3:#1a1a24;--card:#16161f;--text:#fff;--text2:#a0a0b0;--muted:#6b6b7b;--accent:#6366f1;--grad:linear-gradient(135deg,#6366f1,#8b5cf6,#ec4899);--ok:#10b981;--warn:#f59e0b;--err:#ef4444;--border:rgba(255,255,255,0.08);--r:12px}
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Outfit',sans-serif;background:var(--bg);color:var(--text);line-height:1.6}#root{min-height:100vh;display:flex;flex-direction:column}
.nav{position:fixed;top:0;left:0;right:0;z-index:1000;padding:1rem 2rem;background:rgba(10,10,15,.95);backdrop-filter:blur(20px);border-bottom:1px solid var(--border)}.nav-c{max-width:1400px;margin:0 auto;display:flex;align-items:center;justify-content:space-between}.logo{display:flex;align-items:center;gap:.75rem;cursor:pointer}.logo-i{font-size:1.75rem;background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.logo-t{font-family:'Space Grotesk',sans-serif;font-size:1.5rem;font-weight:700;letter-spacing:2px}.nav-l{display:flex;gap:2rem}.nav-l span{color:var(--text2);cursor:pointer;font-weight:500;transition:.3s}.nav-l span:hover,.nav-l span.active{color:var(--text)}
.main{flex:1;padding-top:80px}.hero{padding:6rem 2rem 4rem;background:linear-gradient(180deg,var(--bg2),var(--bg))}.hero-c{max-width:1400px;margin:0 auto}.hero h1{font-family:'Space Grotesk';font-size:clamp(2.5rem,6vw,4.5rem);font-weight:700;line-height:1.1;margin-bottom:1rem}.hero h1 span{background:var(--grad);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.hero p{font-size:1.25rem;color:var(--text2);max-width:600px}
.filters{max-width:1400px;margin:0 auto;padding:0 2rem;margin-top:-2rem;position:relative;z-index:2}.search{position:relative;margin-bottom:1.5rem}.search input{width:100%;padding:1rem 1rem 1rem 3rem;background:var(--card);border:1px solid var(--border);border-radius:20px;color:var(--text);font-size:1rem}.search input:focus{outline:none;border-color:var(--accent)}.search input::placeholder{color:var(--muted)}.search svg{position:absolute;left:1rem;top:50%;transform:translateY(-50%);color:var(--muted)}.cats{display:flex;gap:.75rem;flex-wrap:wrap}.cat{padding:.625rem 1.25rem;background:var(--card);border:1px solid var(--border);border-radius:100px;color:var(--text2);font-size:.9rem;cursor:pointer;transition:.3s}.cat:hover{border-color:var(--muted);color:var(--text)}.cat.active{background:var(--accent);border-color:transparent;color:#fff}
.events{max-width:1400px;margin:0 auto;padding:3rem 2rem}.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:1.5rem}.card{background:var(--card);border-radius:var(--r);border:1px solid var(--border);overflow:hidden;cursor:pointer;transition:.3s;display:flex;flex-direction:column}.card:hover{transform:translateY(-4px);border-color:var(--accent);box-shadow:0 8px 40px rgba(0,0,0,.5)}.card-h{padding:1.5rem;background:linear-gradient(135deg,rgba(99,102,241,.15),transparent);display:flex;justify-content:space-between}.card-cat{font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;color:var(--accent)}.card-date{display:flex;flex-direction:column;align-items:center;background:var(--bg);padding:.5rem .75rem;border-radius:8px}.card-day{font-family:'Space Grotesk';font-size:1.5rem;font-weight:700;line-height:1}.card-mon{font-size:.75rem;text-transform:uppercase;color:var(--text2)}.card-b{padding:1.5rem;flex:1;display:flex;flex-direction:column}.card-title{font-family:'Space Grotesk';font-size:1.35rem;font-weight:600;margin-bottom:.5rem}.card-venue{display:flex;align-items:center;gap:.5rem;color:var(--text2);font-size:.9rem;margin-bottom:.75rem}.card-desc{color:var(--muted);font-size:.9rem;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:1rem;flex:1}.card-f{display:flex;justify-content:space-between;align-items:flex-end}.price-l{font-size:.75rem;color:var(--muted)}.price-v{font-family:'Space Grotesk';font-size:1.5rem;font-weight:700;color:var(--accent)}.seats{padding:.375rem .75rem;background:rgba(16,185,129,.15);color:var(--ok);border-radius:100px;font-size:.8rem}.seats.low{background:rgba(239,68,68,.15);color:var(--err)}.card-cta{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:1rem;background:var(--bg3);border-top:1px solid var(--border);font-weight:600;color:var(--text2);transition:.3s}.card:hover .card-cta{background:var(--accent);color:#fff}
.loading{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:400px;gap:1rem}.spinner{width:48px;height:48px;border:3px solid var(--border);border-top-color:var(--accent);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}.empty{text-align:center;padding:4rem 2rem}.empty-i{font-size:4rem;margin-bottom:1rem}
.detail{min-height:100vh;padding-bottom:4rem}.detail-h{background:linear-gradient(180deg,var(--bg2),var(--bg));padding:4rem 2rem}.detail-hc{max-width:1400px;margin:0 auto}.detail-badge{display:inline-block;padding:.375rem 1rem;background:var(--grad);border-radius:100px;font-size:.8rem;font-weight:600;text-transform:uppercase;letter-spacing:1px;margin-bottom:1rem}.detail-name{font-family:'Space Grotesk';font-size:clamp(2rem,5vw,3.5rem);font-weight:700;margin-bottom:1.5rem}.detail-meta{display:flex;flex-wrap:wrap;gap:2rem;margin-bottom:1.5rem}.meta-i{display:flex;align-items:center;gap:.5rem;color:var(--text2)}.detail-c{max-width:1400px;margin:0 auto;padding:2rem;display:grid;grid-template-columns:1fr 380px;gap:2rem}
.seat-sec{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:2rem}.sec-title{font-family:'Space Grotesk';font-size:1.5rem;margin-bottom:1.5rem}.stage{width:60%;max-width:400px;margin:0 auto 2rem;padding:1rem 2rem;background:linear-gradient(180deg,var(--accent),#8b5cf6);border-radius:0 0 100px 100px;text-align:center;font-weight:700;letter-spacing:3px;font-size:.9rem}.seat-map{display:flex;flex-direction:column;gap:.5rem;align-items:center;padding:1rem;overflow-x:auto}.seat-row{display:flex;align-items:center;gap:.5rem}.row-l{width:24px;font-weight:600;color:var(--muted);text-align:center;font-size:.85rem}.seat-seats{display:flex;gap:.35rem}.seat{width:28px;height:28px;border-radius:6px 6px 8px 8px;border:none;cursor:pointer;font-size:.65rem;display:flex;align-items:center;justify-content:center;transition:.3s}.seat.vip{background:linear-gradient(135deg,#ffd700,#ffb700)}.seat.premium{background:linear-gradient(135deg,#c0c0c0,#a0a0a0)}.seat.standard{background:linear-gradient(135deg,#cd853f,#b87333)}.seat.booked,.seat.locked{background:var(--bg3)!important;cursor:not-allowed;opacity:.5}.seat.selected{background:var(--accent)!important;transform:scale(1.15);box-shadow:0 0 15px rgba(99,102,241,.5)}.seat:not(.booked):not(.locked):hover{transform:scale(1.1)}.legend{display:flex;flex-wrap:wrap;justify-content:center;gap:1.5rem;margin-top:2rem;padding-top:1.5rem;border-top:1px solid var(--border)}.legend-i{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:var(--text2)}.legend-s{width:20px;height:20px;border-radius:4px}.legend-s.av{background:var(--bg3);border:1px solid var(--border)}.legend-s.sel{background:var(--accent)}.legend-s.bk{background:var(--bg3);opacity:.4}.legend-s.vip{background:linear-gradient(135deg,#ffd700,#ffb700)}.legend-s.prem{background:linear-gradient(135deg,#c0c0c0,#a0a0a0)}.legend-s.std{background:linear-gradient(135deg,#cd853f,#b87333)}
.sidebar{position:sticky;top:100px;height:fit-content}.summary{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:1.5rem}.summary h3{font-family:'Space Grotesk';font-size:1.25rem;margin-bottom:1.5rem}.tiers{display:flex;flex-direction:column;gap:.75rem;margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border)}.tier{display:flex;align-items:center;gap:.75rem}.tier-c{width:16px;height:16px;border-radius:4px}.tier-c.vip{background:linear-gradient(135deg,#ffd700,#ffb700)}.tier-c.prem{background:linear-gradient(135deg,#c0c0c0,#a0a0a0)}.tier-c.std{background:linear-gradient(135deg,#cd853f,#b87333)}.tier-n{flex:1;font-weight:500}.tier-p{font-weight:600}.sel-list{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border)}.sel-list h4{font-size:.9rem;color:var(--text2);margin-bottom:.75rem}.sel-item{display:flex;align-items:center;gap:.75rem;padding:.5rem 0;font-size:.9rem}.sel-badge{padding:.2rem .5rem;border-radius:4px;font-size:.7rem;font-weight:600;color:#1a1a24}.total{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding:1rem;background:var(--bg3);border-radius:var(--r)}.total-v{font-family:'Space Grotesk';font-size:1.75rem;font-weight:700;color:var(--accent)}.form{margin-bottom:1.5rem}.form h4{font-size:.9rem;color:var(--text2);margin-bottom:.75rem}.form input{width:100%;padding:.75rem 1rem;background:var(--bg3);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:.95rem;margin-bottom:.75rem}.form input:focus{outline:none;border-color:var(--accent)}.form input::placeholder{color:var(--muted)}.btn{width:100%;display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1rem;background:var(--grad);border:none;border-radius:var(--r);color:#fff;font-weight:600;font-size:1rem;cursor:pointer;transition:.3s}.btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(99,102,241,.4)}.btn:disabled{opacity:.5;cursor:not-allowed}.err-banner{display:flex;align-items:center;gap:.75rem;padding:1rem;background:rgba(239,68,68,.15);border:1px solid rgba(239,68,68,.3);border-radius:var(--r);margin-bottom:1.5rem;color:var(--err);font-size:.9rem}.err-banner button{margin-left:auto;background:none;border:none;color:inherit;font-size:1.25rem;cursor:pointer}.lock-t{display:flex;align-items:center;gap:.5rem;padding:.75rem 1rem;background:rgba(245,158,11,.15);border-radius:var(--r);margin-bottom:1.5rem;color:var(--warn);font-size:.9rem}
.checkout{min-height:100vh;padding:2rem}.checkout-c{max-width:1200px;margin:0 auto}.checkout-h{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem}.checkout-h h1{font-family:'Space Grotesk';font-size:2rem}.secure{display:flex;align-items:center;gap:.5rem;padding:.5rem 1rem;background:rgba(16,185,129,.15);border-radius:100px;color:var(--ok);font-size:.85rem}.checkout-grid{display:grid;grid-template-columns:1fr 400px;gap:2rem}.pay-sec,.order-sum{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:2rem}.pay-sec h2,.order-sum h2{font-size:1.25rem;margin-bottom:1.5rem}.methods{display:flex;flex-direction:column;gap:1rem;margin-bottom:1.5rem}.method{display:flex;align-items:center;padding:1rem 1.25rem;background:var(--bg3);border:2px solid var(--border);border-radius:var(--r);cursor:pointer;transition:.3s}.method:hover{border-color:var(--muted)}.method.sel{border-color:var(--accent);background:rgba(99,102,241,.1)}.method input{display:none}.method-c{display:flex;align-items:center;gap:1rem;font-weight:500}.method-i{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:8px}.card-form{padding:1.5rem;background:var(--bg3);border-radius:var(--r);margin-bottom:1.5rem}.fg{margin-bottom:1rem}.fg:last-child{margin-bottom:0}.fg label{display:block;font-size:.85rem;color:var(--text2);margin-bottom:.5rem}.fg input{width:100%;padding:.875rem 1rem;background:var(--bg);border:1px solid var(--border);border-radius:8px;color:var(--text);font-size:1rem}.fg input:focus{outline:none;border-color:var(--accent)}.fr{display:grid;grid-template-columns:1fr 1fr;gap:1rem}.pay-btn{width:100%;display:flex;align-items:center;justify-content:center;gap:.75rem;padding:1.125rem;background:var(--grad);border:none;border-radius:var(--r);color:#fff;font-weight:600;font-size:1.1rem;cursor:pointer;transition:.3s;margin-bottom:1rem}.pay-btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px rgba(99,102,241,.4)}.pay-btn:disabled{opacity:.7;cursor:not-allowed}.order-sum{height:fit-content;position:sticky;top:100px}.o-info{margin-bottom:1.5rem;padding-bottom:1.5rem;border-bottom:1px solid var(--border)}.o-info h3{font-size:1.1rem;margin-bottom:1rem}.o-row{display:flex;align-items:center;gap:.75rem;color:var(--text2);font-size:.9rem;margin-bottom:.5rem}.o-total{margin-bottom:1.5rem}.o-tr{display:flex;justify-content:space-between;padding:.5rem 0;font-size:.95rem;color:var(--text2)}.o-tr.tot{margin-top:.5rem;padding-top:1rem;border-top:1px solid var(--border);font-weight:700;font-size:1.1rem;color:var(--text)}
.confirm{min-height:100vh;padding:2rem;max-width:900px;margin:0 auto}.success-h{text-align:center;margin-bottom:3rem}.success-i{width:100px;height:100px;margin:0 auto 1.5rem;background:linear-gradient(135deg,rgba(16,185,129,.2),rgba(16,185,129,.05));border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:3rem}.success-h h1{font-family:'Space Grotesk';font-size:2.5rem;margin-bottom:.75rem}.success-h p{color:var(--text2);font-size:1.1rem}.success-h code{background:var(--bg3);padding:.375rem .75rem;border-radius:8px;font-family:'Space Grotesk',monospace;color:var(--accent)}.ticket{background:var(--card);border-radius:var(--r);border:1px solid var(--border);overflow:hidden;margin-bottom:2rem}.ticket-h{display:flex;justify-content:space-between;align-items:center;padding:1.5rem;background:var(--grad)}.ticket-logo{font-family:'Space Grotesk';font-size:1.25rem;font-weight:700;letter-spacing:2px}.ticket-type{font-size:.8rem;font-weight:600;letter-spacing:2px;padding:.375rem .75rem;background:rgba(255,255,255,.2);border-radius:4px}.ticket-b{display:grid;grid-template-columns:1fr auto;gap:2rem;padding:2rem;border-bottom:2px dashed var(--border)}.ticket-m{display:flex;flex-direction:column;gap:1.25rem}.ticket-m .t-name{font-family:'Space Grotesk';font-size:1.75rem;font-weight:700}.ticket-d{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem}.d-block{display:flex;flex-direction:column;gap:.25rem}.d-label{font-size:.7rem;font-weight:600;letter-spacing:1px;color:var(--muted);text-transform:uppercase}.d-value{font-weight:500}.s-chips{display:flex;flex-wrap:wrap;gap:.5rem;margin-top:.5rem}.s-chip{padding:.375rem .75rem;background:var(--bg3);border-radius:100px;font-size:.85rem}.s-chip.vip{background:rgba(255,215,0,.2);color:#ffd700}.s-chip.premium{background:rgba(192,192,192,.2);color:#c0c0c0}.s-chip.standard{background:rgba(205,133,63,.2);color:#cd853f}.ticket-qr{display:flex;flex-direction:column;align-items:center;gap:.75rem}.qr-img{width:150px;height:150px;background:#fff;border-radius:8px;padding:.5rem}.qr-instr{font-size:.8rem;color:var(--muted)}.ticket-f{padding:1.5rem 2rem;display:flex;justify-content:space-between;align-items:center}.ticket-meta{display:flex;flex-direction:column;gap:.25rem;font-size:.85rem;color:var(--text2)}.actions{display:flex;justify-content:center;gap:1rem;margin-bottom:3rem}.act-btn{display:flex;align-items:center;gap:.5rem;padding:.875rem 1.5rem;background:var(--card);border:1px solid var(--border);border-radius:var(--r);color:var(--text);font-weight:500;cursor:pointer;transition:.3s}.act-btn:hover{border-color:var(--accent);background:rgba(99,102,241,.1)}.info-cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.info-card{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:1.5rem}.info-icon{font-size:2rem;margin-bottom:.75rem}.info-card h3{font-size:1.1rem;margin-bottom:.5rem}.info-card p{color:var(--text2);font-size:.9rem;line-height:1.6}.back-link{text-align:center}.back-link span{display:inline-flex;align-items:center;gap:.5rem;color:var(--text2);cursor:pointer;font-weight:500;transition:.3s}.back-link span:hover{color:var(--accent)}
.admin{min-height:100vh;padding:2rem;max-width:1400px;margin:0 auto}.admin-h{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:2rem}.admin-h h1{font-family:'Space Grotesk';font-size:2rem;margin-bottom:.25rem}.admin-h p{color:var(--text2)}.refresh{display:flex;align-items:center;gap:.5rem;padding:.75rem 1.25rem;background:var(--card);border:1px solid var(--border);border-radius:var(--r);color:var(--text);font-weight:500;cursor:pointer;transition:.3s}.refresh:hover{border-color:var(--accent);background:rgba(99,102,241,.1)}.tabs{display:flex;gap:.5rem;margin-bottom:2rem;padding:.375rem;background:var(--card);border-radius:var(--r);width:fit-content}.tabs button{padding:.75rem 1.5rem;background:transparent;border:none;border-radius:8px;color:var(--text2);font-weight:500;cursor:pointer;transition:.3s}.tabs button:hover{color:var(--text)}.tabs button.active{background:var(--accent);color:#fff}.stats-g{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.5rem;margin-bottom:2rem}.stat-c{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:1.5rem;display:flex;align-items:flex-start;gap:1rem;position:relative;overflow:hidden}.stat-c::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:var(--accent)}.stat-i{font-size:2rem}.stat-co{display:flex;flex-direction:column}.stat-t{font-size:.9rem;color:var(--text2);margin-bottom:.25rem}.stat-v{font-family:'Space Grotesk';font-size:1.75rem;font-weight:700}.charts{display:grid;grid-template-columns:1fr 1fr;gap:1.5rem}.chart-c{background:var(--card);border-radius:var(--r);border:1px solid var(--border);padding:1.5rem}.chart-c h3{font-size:1.1rem;margin-bottom:1.5rem}.cat-bars{display:flex;flex-direction:column;gap:1rem}.cat-row{display:grid;grid-template-columns:100px 1fr 80px;align-items:center;gap:1rem}.cat-name{font-size:.9rem;font-weight:500}.bar-c{height:24px;background:var(--bg3);border-radius:4px;overflow:hidden}.bar-f{height:100%;border-radius:4px;transition:width .5s}.cat-val{font-weight:600;text-align:right;font-size:.9rem}.act-list{display:flex;flex-direction:column;gap:1rem}.act-item{display:flex;align-items:center;gap:1rem;padding:.75rem;background:var(--bg3);border-radius:8px}.act-ic{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1rem}.act-co{flex:1;display:flex;flex-direction:column}.act-ti{font-weight:500;font-size:.9rem}.act-me{font-size:.8rem;color:var(--muted)}.act-time{font-size:.8rem;color:var(--muted)}.no-data{color:var(--muted);text-align:center;padding:2rem}.table-c{background:var(--card);border-radius:var(--r);border:1px solid var(--border);overflow:hidden}.table{width:100%;border-collapse:collapse}.table th,.table td{padding:1rem 1.25rem;text-align:left}.table th{background:var(--bg3);font-weight:600;font-size:.85rem;color:var(--text2);text-transform:uppercase}.table td{border-bottom:1px solid var(--border)}.table tr:last-child td{border-bottom:none}.cat-badge{display:inline-block;padding:.25rem .75rem;border-radius:100px;font-size:.8rem;font-weight:500;color:#1a1a24}.rev-cell{font-family:'Space Grotesk',monospace;font-weight:600}.occ-bar{display:flex;align-items:center;gap:.75rem}.occ-bar>div{flex:1;height:8px;background:var(--bg3);border-radius:4px;overflow:hidden}.occ-fill{height:100%;border-radius:4px}.occ-bar span{font-size:.85rem;font-weight:500;min-width:40px}.id-cell code{font-family:'Space Grotesk',monospace;padding:.25rem .5rem;background:var(--bg3);border-radius:4px;font-size:.85rem}.cust-cell{display:flex;flex-direction:column}.cust-name{font-weight:500}.cust-email{font-size:.8rem;color:var(--muted)}.amt-cell{font-family:'Space Grotesk',monospace;font-weight:600;color:var(--ok)}.status-b{display:inline-block;padding:.25rem .75rem;border-radius:100px;font-size:.8rem;font-weight:500;text-transform:capitalize}.status-b.confirmed{background:rgba(16,185,129,.15);color:var(--ok)}.status-b.pending{background:rgba(245,158,11,.15);color:var(--warn)}
.footer{background:var(--bg2);border-top:1px solid var(--border);padding:2rem;margin-top:auto}.footer-c{max-width:1400px;margin:0 auto;display:flex;justify-content:space-between;align-items:center}.footer-c p{color:var(--muted);font-size:.9rem}.footer-l{display:flex;gap:1.5rem}.footer-l span{color:var(--text2);font-size:.9rem;cursor:pointer}.footer-l span:hover{color:var(--text)}
@media(max-width:1024px){.detail-c,.checkout-grid,.charts{grid-template-columns:1fr}.sidebar,.order-sum{position:static}}@media(max-width:768px){.grid{grid-template-columns:1fr}.ticket-b{grid-template-columns:1fr}.actions{flex-direction:column}}
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">
const API='';const{useState,useEffect,useRef}=React;
const getSessionId=()=>{let id=localStorage.getItem('session_id');if(!id){id='sess_'+Math.random().toString(36).substr(2,15);localStorage.setItem('session_id',id)}return id};
function Nav({page,setPage}){return(<nav className="nav"><div className="nav-c"><div className="logo" onClick={()=>setPage({name:'list'})}><span className="logo-i">â—ˆ</span><span className="logo-t">EVENTIX</span></div><div className="nav-l"><span className={page.name==='list'?'active':''} onClick={()=>setPage({name:'list'})}>Events</span><span className={page.name==='admin'?'active':''} onClick={()=>setPage({name:'admin'})}>Admin</span></div></div></nav>)}
function EventCard({event,onClick}){const d=new Date(event.date);return(<div className="card" onClick={onClick}><div className="card-h"><span className="card-cat">{event.category}</span><div className="card-date"><span className="card-day">{d.getDate()}</span><span className="card-mon">{d.toLocaleDateString('en-US',{month:'short'})}</span></div></div><div className="card-b"><h3 className="card-title">{event.name}</h3><p className="card-venue">ğŸ“ {event.venue_name}, {event.city}</p><p className="card-desc">{event.description}</p><div className="card-f"><div><div className="price-l">From</div><div className="price-v">${event.base_price}</div></div><span className={`seats ${event.available_seats<50?'low':''}`}>{event.available_seats} seats</span></div></div><div className="card-cta">Get Tickets â†’</div></div>)}
function EventList({setPage}){const[events,setEvents]=useState([]);const[cats,setCats]=useState([]);const[loading,setLoading]=useState(true);const[filter,setFilter]=useState('');const[search,setSearch]=useState('');useEffect(()=>{fetch(`${API}/api/categories`).then(r=>r.json()).then(setCats).catch(()=>{});fetchEvents()},[]);useEffect(()=>{fetchEvents()},[filter,search]);const fetchEvents=async()=>{setLoading(true);const params=new URLSearchParams();if(filter)params.append('category',filter);if(search)params.append('search',search);params.append('upcoming','true');const data=await fetch(`${API}/api/events?${params}`).then(r=>r.json());setEvents(data);setLoading(false)};return(<div><header className="hero"><div className="hero-c"><h1><span>Discover</span><br/>Unforgettable Events</h1><p>From concerts to comedy, theater to sports â€” find your next experience</p></div></header><section className="filters"><div className="search"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2"><circle cx="11" cy="11" r="8"/><path d="M21 21l-4.35-4.35"/></svg><input type="text" placeholder="Search events..." value={search} onChange={e=>setSearch(e.target.value)}/></div><div className="cats"><button className={`cat ${filter===''?'active':''}`} onClick={()=>setFilter('')}>All</button>{cats.map(c=><button key={c} className={`cat ${filter===c?'active':''}`} onClick={()=>setFilter(c)}>{c}</button>)}</div></section><section className="events">{loading?(<div className="loading"><div className="spinner"></div><p>Loading...</p></div>):events.length===0?(<div className="empty"><div className="empty-i">ğŸ«</div><h3>No events found</h3></div>):(<div className="grid">{events.map(e=><EventCard key={e.id} event={e} onClick={()=>setPage({name:'detail',id:e.id})}/>)}</div>)}</section></div>)}
function EventDetail({id,setPage}){const[event,setEvent]=useState(null);const[seats,setSeats]=useState({});const[selected,setSelected]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const[lockExp,setLockExp]=useState(null);const[user,setUser]=useState({name:'',email:'',phone:''});const[locking,setLocking]=useState(false);const sessionId=useRef(getSessionId());useEffect(()=>{fetch(`${API}/api/events/${id}`).then(r=>r.json()).then(setEvent);fetchSeats();const interval=setInterval(fetchSeats,5000);return()=>{clearInterval(interval);releaseSeats()}},[id]);const fetchSeats=async()=>{const data=await fetch(`${API}/api/events/${id}/seats`).then(r=>r.json());setSeats(data.seatsByRow||{});setLoading(false)};const releaseSeats=async()=>{await fetch(`${API}/api/events/${id}/seats/release`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({sessionId:sessionId.current})}).catch(()=>{})};const lockSeats=async(seatIds)=>{setLocking(true);setError(null);try{const res=await fetch(`${API}/api/events/${id}/seats/lock`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({seatIds,sessionId:sessionId.current})});const data=await res.json();if(!res.ok){setError(data.error);if(data.unavailable)setSelected(s=>s.filter(x=>!data.unavailable.find(u=>u.id===x.id)));return false}setLockExp(new Date(data.expiresAt));return true}catch{setError('Failed to lock seats');return false}finally{setLocking(false)}};const toggleSeat=async(seat)=>{const isSel=selected.some(s=>s.id===seat.id);if(isSel){const newSel=selected.filter(s=>s.id!==seat.id);setSelected(newSel);if(newSel.length>0)await lockSeats(newSel.map(s=>s.id));else{await releaseSeats();setLockExp(null)}}else{if(selected.length>=10){setError('Max 10 seats');return}const newSel=[...selected,seat];setSelected(newSel);await lockSeats(newSel.map(s=>s.id))}};const getPrice=(tier)=>{if(!event)return 0;if(tier==='vip')return event.vip_price||event.base_price*2;if(tier==='premium')return event.premium_price||event.base_price*1.5;return event.base_price};const total=selected.reduce((sum,s)=>sum+getPrice(s.tier),0);const checkout=async()=>{if(!user.name||!user.email){setError('Please fill name and email');return}if(selected.length===0){setError('Select at least one seat');return}try{const res=await fetch(`${API}/api/bookings`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({eventId:id,seatIds:selected.map(s=>s.id),sessionId:sessionId.current,userName:user.name,userEmail:user.email,userPhone:user.phone})});const data=await res.json();if(!res.ok){setError(data.error);return}setPage({name:'checkout',bookingId:data.bookingId})}catch{setError('Failed')}};const getRemainingTime=()=>{if(!lockExp)return null;const rem=Math.max(0,Math.floor((lockExp-new Date())/1000));return`${Math.floor(rem/60)}:${(rem%60).toString().padStart(2,'0')}`};if(loading||!event)return<div className="loading"><div className="spinner"></div></div>;const d=new Date(event.date);return(<div className="detail"><header className="detail-h"><div className="detail-hc"><span className="detail-badge">{event.category}</span><h1 className="detail-name">{event.name}</h1><div className="detail-meta"><div className="meta-i">ğŸ“… {d.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric',year:'numeric'})}</div><div className="meta-i">ğŸ• {d.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'})}</div><div className="meta-i">ğŸ“ {event.venue_name}, {event.city}</div></div><p style={{color:'var(--text2)',maxWidth:'800px'}}>{event.description}</p></div></header><div className="detail-c"><div className="seat-sec"><h2 className="sec-title">Select Your Seats</h2>{error&&<div className="err-banner">{error}<button onClick={()=>setError(null)}>Ã—</button></div>}{lockExp&&<div className="lock-t">ğŸ• Reserved for: <strong>{getRemainingTime()}</strong></div>}<div className="stage">STAGE</div><div className="seat-map">{Object.keys(seats).sort().map(row=>(<div key={row} className="seat-row"><span className="row-l">{row}</span><div className="seat-seats">{seats[row].map(seat=>{const isSel=selected.some(s=>s.id===seat.id);const isLocked=seat.status==='locked'&&seat.locked_by!==sessionId.current;const unavail=seat.status==='booked'||isLocked;return(<button key={seat.id} className={`seat ${seat.tier} ${seat.status} ${isSel?'selected':''}`} disabled={unavail} onClick={()=>!unavail&&toggleSeat(seat)} title={`Row ${seat.row_label} Seat ${seat.seat_number}`}/>)})}</div><span className="row-l">{row}</span></div>))}</div><div className="legend"><div className="legend-i"><span className="legend-s av"></span>Available</div><div className="legend-i"><span className="legend-s sel"></span>Selected</div><div className="legend-i"><span className="legend-s bk"></span>Taken</div><div className="legend-i"><span className="legend-s vip"></span>VIP</div><div className="legend-i"><span className="legend-s prem"></span>Premium</div><div className="legend-i"><span className="legend-s std"></span>Standard</div></div></div><aside className="sidebar"><div className="summary"><h3>Booking Summary</h3><div className="tiers"><div className="tier"><span className="tier-c vip"></span><span className="tier-n">VIP</span><span className="tier-p">${event.vip_price||event.base_price*2}</span></div><div className="tier"><span className="tier-c prem"></span><span className="tier-n">Premium</span><span className="tier-p">${event.premium_price||event.base_price*1.5}</span></div><div className="tier"><span className="tier-c std"></span><span className="tier-n">Standard</span><span className="tier-p">${event.base_price}</span></div></div>{selected.length>0&&(<div className="sel-list"><h4>Selected ({selected.length})</h4>{selected.map(s=>(<div key={s.id} className="sel-item"><span>Row {s.row_label}, Seat {s.seat_number}</span><span className="sel-badge" style={{background:s.tier==='vip'?'#ffd700':s.tier==='premium'?'#c0c0c0':'#cd853f'}}>{s.tier}</span><span>${getPrice(s.tier)}</span></div>))}</div>)}<div className="total"><span>Total</span><span className="total-v">${total.toFixed(2)}</span></div><div className="form"><h4>Your Information</h4><input placeholder="Full Name *" value={user.name} onChange={e=>setUser({...user,name:e.target.value})}/><input placeholder="Email *" type="email" value={user.email} onChange={e=>setUser({...user,email:e.target.value})}/><input placeholder="Phone (optional)" value={user.phone} onChange={e=>setUser({...user,phone:e.target.value})}/></div><button className="btn" disabled={selected.length===0||locking} onClick={checkout}>{locking?'Processing...':'Proceed to Payment â†’'}</button></div></aside></div></div>)}
function Checkout({bookingId,setPage}){const[booking,setBooking]=useState(null);const[loading,setLoading]=useState(true);const[processing,setProcessing]=useState(false);const[error,setError]=useState(null);const[method,setMethod]=useState('card');const[card,setCard]=useState({number:'',expiry:'',cvv:'',name:''});useEffect(()=>{fetch(`${API}/api/bookings/${bookingId}`).then(r=>r.json()).then(data=>{if(data.status==='confirmed')setPage({name:'confirm',bookingId});else setBooking(data);setLoading(false)})},[bookingId]);const pay=async()=>{if(method==='card'&&(card.number.length<16||card.expiry.length<5||card.cvv.length<3||!card.name)){setError('Please fill all card details');return}setProcessing(true);setError(null);try{const res=await fetch(`${API}/api/payments`,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({bookingId,method})});const data=await res.json();if(!res.ok){setError(data.error);setProcessing(false);return}setPage({name:'confirm',bookingId})}catch{setError('Payment failed');setProcessing(false)}};if(loading)return<div className="loading"><div className="spinner"></div></div>;if(!booking)return<div className="empty"><h3>Booking not found</h3><button className="btn" onClick={()=>setPage({name:'list'})}>Browse Events</button></div>;const d=new Date(booking.event_date);return(<div className="checkout"><div className="checkout-c"><div className="checkout-h"><h1>Complete Your Purchase</h1><div className="secure">ğŸ”’ Secure Checkout</div></div><div className="checkout-grid"><div className="pay-sec"><h2>Payment Method</h2>{error&&<div className="err-banner">{error}<button onClick={()=>setError(null)}>Ã—</button></div>}<div className="methods">{['card','paypal','apple'].map(m=>(<label key={m} className={`method ${method===m?'sel':''}`}><input type="radio" name="method" value={m} checked={method===m} onChange={()=>setMethod(m)}/><div className="method-c"><div className="method-i">{m==='card'?'ğŸ’³':m==='paypal'?'PP':'ğŸ'}</div><span>{m==='card'?'Credit/Debit Card':m==='paypal'?'PayPal':'Apple Pay'}</span></div></label>))}</div>{method==='card'&&(<div className="card-form"><div className="fg"><label>Card Number</label><input placeholder="1234 5678 9012 3456" value={card.number} onChange={e=>setCard({...card,number:e.target.value.replace(/\D/g,'').slice(0,16)})}/></div><div className="fr"><div className="fg"><label>Expiry</label><input placeholder="MM/YY" value={card.expiry} onChange={e=>setCard({...card,expiry:e.target.value.slice(0,5)})}/></div><div className="fg"><label>CVV</label><input placeholder="123" value={card.cvv} onChange={e=>setCard({...card,cvv:e.target.value.replace(/\D/g,'').slice(0,4)})}/></div></div><div className="fg"><label>Name on Card</label><input placeholder="John Doe" value={card.name} onChange={e=>setCard({...card,name:e.target.value})}/></div></div>)}<button className="pay-btn" disabled={processing} onClick={pay}>{processing?'â³ Processing...':`ğŸ”’ Pay $${booking.total_amount.toFixed(2)}`}</button><p style={{fontSize:'.8rem',color:'var(--muted)',textAlign:'center'}}>Simulated payment for demo.</p></div><aside className="order-sum"><h2>Order Summary</h2><div className="o-info"><h3>{booking.event_name}</h3><div className="o-row">ğŸ“… {d.toLocaleDateString('en-US',{weekday:'long',month:'long',day:'numeric'})}</div><div className="o-row">ğŸ• {d.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'})}</div><div className="o-row">ğŸ“ {booking.venue_name}, {booking.city}</div></div><div style={{marginBottom:'1.5rem',paddingBottom:'1.5rem',borderBottom:'1px solid var(--border)'}}><h4 style={{fontSize:'.9rem',color:'var(--text2)',marginBottom:'.75rem'}}>Tickets ({booking.seats?.length||0})</h4>{booking.seats?.map(s=>(<div key={s.id} style={{display:'flex',justifyContent:'space-between',padding:'.5rem 0',fontSize:'.9rem'}}><span>Row {s.row_label}, Seat {s.seat_number}</span><span>${s.price.toFixed(2)}</span></div>))}</div><div className="o-total"><div className="o-tr"><span>Subtotal</span><span>${booking.total_amount.toFixed(2)}</span></div><div className="o-tr"><span>Fee</span><span>$0.00</span></div><div className="o-tr tot"><span>Total</span><span>${booking.total_amount.toFixed(2)}</span></div></div></aside></div></div></div>)}
function Confirmation({bookingId,setPage}){const[booking,setBooking]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{fetch(`${API}/api/bookings/${bookingId}`).then(r=>r.json()).then(data=>{setBooking(data);setLoading(false)})},[bookingId]);if(loading)return<div className="loading"><div className="spinner"></div></div>;if(!booking||booking.status!=='confirmed')return<div className="empty"><h3>Booking not found</h3><button className="btn" onClick={()=>setPage({name:'list'})}>Browse Events</button></div>;const d=new Date(booking.event_date);return(<div className="confirm"><div className="success-h"><div className="success-i">âœ…</div><h1>Booking Confirmed!</h1><p>Tickets sent to <strong>{booking.user_email}</strong></p><p style={{marginTop:'.75rem'}}>Reference: <code>{bookingId.slice(0,8).toUpperCase()}</code></p></div><div className="ticket"><div className="ticket-h"><span className="ticket-logo">â—ˆ EVENTIX</span><span className="ticket-type">E-TICKET</span></div><div className="ticket-b"><div className="ticket-m"><h2 className="t-name">{booking.event_name}</h2><div className="ticket-d"><div className="d-block"><span className="d-label">DATE</span><span className="d-value">{d.toLocaleDateString('en-US',{weekday:'short',month:'short',day:'numeric',year:'numeric'})}</span></div><div className="d-block"><span className="d-label">TIME</span><span className="d-value">{d.toLocaleTimeString('en-US',{hour:'numeric',minute:'2-digit'})}</span></div><div className="d-block"><span className="d-label">VENUE</span><span className="d-value">{booking.venue_name}</span></div><div className="d-block"><span className="d-label">LOCATION</span><span className="d-value">{booking.city}</span></div></div><div><span className="d-label">SEATS</span><div className="s-chips">{booking.seats?.map(s=><span key={s.id} className={`s-chip ${s.tier}`}>Row {s.row_label}, Seat {s.seat_number}</span>)}</div></div><div><span className="d-label">ATTENDEE</span><div style={{fontWeight:600,fontSize:'1.1rem'}}>{booking.user_name}</div></div></div><div className="ticket-qr">{booking.qr_code&&<img src={booking.qr_code} alt="QR" className="qr-img"/>}<span className="qr-instr">Scan for entry</span></div></div><div className="ticket-f"><div className="ticket-meta"><span>Transaction: {booking.payment?.transaction_id}</span><span>Amount: ${booking.total_amount.toFixed(2)}</span></div></div></div><div className="actions"><button className="act-btn" onClick={()=>window.print()}>ğŸ–¨ï¸ Print</button><button className="act-btn">ğŸ“¥ Download</button></div><div className="info-cards"><div className="info-card"><div className="info-icon">ğŸ“</div><h3>Getting There</h3><p>Arrive 30 min early.</p></div><div className="info-card"><div className="info-icon">ğŸ«</div><h3>Entry</h3><p>Show QR at entrance.</p></div><div className="info-card"><div className="info-icon">â“</div><h3>Support</h3><p>support@eventix.com</p></div></div><div className="back-link"><span onClick={()=>setPage({name:'list'})}>â† Browse More Events</span></div></div>)}
function Admin({setPage}){const[stats,setStats]=useState(null);const[loading,setLoading]=useState(true);const[tab,setTab]=useState('overview');useEffect(()=>{fetchStats()},[]);const fetchStats=async()=>{setLoading(true);const data=await fetch(`${API}/api/admin/stats`).then(r=>r.json());setStats(data);setLoading(false)};const getColor=(cat)=>({Concert:'#FF6B6B',Theater:'#4ECDC4',Comedy:'#FFE66D',Sports:'#95E1D3'}[cat]||'#6366f1');if(loading)return<div className="loading"><div className="spinner"></div></div>;return(<div className="admin"><header className="admin-h"><div><h1>Admin Dashboard</h1><p>Monitor sales & bookings</p></div><button className="refresh" onClick={fetchStats}>ğŸ”„ Refresh</button></header><div className="tabs"><button className={tab==='overview'?'active':''} onClick={()=>setTab('overview')}>Overview</button><button className={tab==='events'?'active':''} onClick={()=>setTab('events')}>Events</button><button className={tab==='bookings'?'active':''} onClick={()=>setTab('bookings')}>Bookings</button></div>{tab==='overview'&&(<><div className="stats-g"><div className="stat-c" style={{'--accent':'#10B981'}}><div className="stat-i">ğŸ’°</div><div className="stat-co"><span className="stat-t">Revenue</span><span className="stat-v">${stats?.totalRevenue?.toLocaleString()||0}</span></div></div><div className="stat-c" style={{'--accent':'#6366F1'}}><div className="stat-i">ğŸ«</div><div className="stat-co"><span className="stat-t">Bookings</span><span className="stat-v">{stats?.totalBookings||0}</span></div></div><div className="stat-c" style={{'--accent':'#F59E0B'}}><div className="stat-i">ğŸª</div><div className="stat-co"><span className="stat-t">Events</span><span className="stat-v">{stats?.totalEvents||0}</span></div></div><div className="stat-c" style={{'--accent':'#EC4899'}}><div className="stat-i">ğŸ“…</div><div className="stat-co"><span className="stat-t">Upcoming</span><span className="stat-v">{stats?.upcomingEvents||0}</span></div></div></div><div className="charts"><div className="chart-c"><h3>Revenue by Category</h3><div className="cat-bars">{stats?.revenueByCategory?.map(c=>{const max=Math.max(...(stats.revenueByCategory?.map(x=>x.revenue||0)||[1]));return(<div key={c.category} className="cat-row"><span className="cat-name">{c.category}</span><div className="bar-c"><div className="bar-f" style={{width:`${((c.revenue||0)/max)*100}%`,background:getColor(c.category)}}></div></div><span className="cat-val">${(c.revenue||0).toLocaleString()}</span></div>)})}</div></div><div className="chart-c"><h3>Recent Bookings</h3><div className="act-list">{stats?.recentBookings?.slice(0,5).map(b=>(<div key={b.id} className="act-item"><div className="act-ic" style={{background:getColor(b.category)}}>ğŸ«</div><div className="act-co"><span className="act-ti">{b.event_name}</span><span className="act-me">{b.user_name} â€¢ ${b.total_amount}</span></div><span className="act-time">{new Date(b.created_at).toLocaleDateString()}</span></div>))}{!stats?.recentBookings?.length&&<p className="no-data">No bookings yet</p>}</div></div></div></>)}{tab==='events'&&(<div className="table-c"><table className="table"><thead><tr><th>Event</th><th>Date</th><th>Category</th><th>Sold</th><th>Revenue</th><th>Occupancy</th></tr></thead><tbody>{stats?.eventsSales?.map(e=>{const occ=e.total_seats>0?Math.round((e.seats_sold/e.total_seats)*100):0;return(<tr key={e.id}><td>{e.name}</td><td>{new Date(e.date).toLocaleDateString('en-US',{month:'short',day:'numeric',year:'numeric'})}</td><td><span className="cat-badge" style={{background:getColor(e.category)}}>{e.category}</span></td><td>{e.seats_sold} / {e.total_seats}</td><td className="rev-cell">${(e.total_revenue||0).toLocaleString()}</td><td><div className="occ-bar"><div><div className="occ-fill" style={{width:`${occ}%`,background:occ>75?'#10B981':occ>50?'#F59E0B':'#EF4444'}}></div></div><span>{occ}%</span></div></td></tr>)})}</tbody></table></div>)}{tab==='bookings'&&(<div className="table-c"><table className="table"><thead><tr><th>ID</th><th>Customer</th><th>Event</th><th>Amount</th><th>Status</th><th>Date</th></tr></thead><tbody>{stats?.recentBookings?.map(b=>(<tr key={b.id}><td className="id-cell"><code>{b.id.slice(0,8).toUpperCase()}</code></td><td><div className="cust-cell"><span className="cust-name">{b.user_name}</span><span className="cust-email">{b.user_email}</span></div></td><td>{b.event_name}</td><td className="amt-cell">${b.total_amount.toFixed(2)}</td><td><span className={`status-b ${b.status}`}>{b.status}</span></td><td>{new Date(b.created_at).toLocaleDateString('en-US',{month:'short',day:'numeric',hour:'numeric',minute:'2-digit'})}</td></tr>))}</tbody></table></div>)}</div>)}
function Footer(){return(<footer className="footer"><div className="footer-c"><p>Â© 2026 EVENTIX</p><div className="footer-l"><span>Terms</span><span>Privacy</span><span>Support</span></div></div></footer>)}
function App(){const[page,setPage]=useState({name:'list'});let content;switch(page.name){case'detail':content=<EventDetail id={page.id} setPage={setPage}/>;break;case'checkout':content=<Checkout bookingId={page.bookingId} setPage={setPage}/>;break;case'confirm':content=<Confirmation bookingId={page.bookingId} setPage={setPage}/>;break;case'admin':content=<Admin setPage={setPage}/>;break;default:content=<EventList setPage={setPage}/>}return(<><Nav page={page} setPage={setPage}/><main className="main">{content}</main><Footer/></>)}
ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
